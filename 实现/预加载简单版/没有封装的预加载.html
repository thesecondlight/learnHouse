<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>预加载</title>
    <style>
        .btn{
          width: 200px;
          height: 200px;  
        }
    </style>
</head>

<body>
    <button class="btn" onclick="toPage()"></button>
    <script>
        let imgs = [
            'http://yun.duiba.com.cn/spark/assets/a34aab611c43b0626b3491105e463ba20178296e.png',
            'http://yun.duiba.com.cn/spark/assets/fbfba28486790d5746176000833ffa61489f30e5.jpg'
        ]
        //遍历图片，生成图片dom,模拟加载
        let count=0;

        for (let img of imgs) {
            //生成图片对象
            let image = new Image()
            image.src = img
            console.log('加载中。。请稍等')
            //给图片增加渲染完成事件，是异步的
            image.onload = () => {
                console.log('[ count,imgs.length ] >', count,imgs.length)
                count=count+1;
                if (imgs.length === count) { //当渲染个数与图片相同时，所有图片加载完成
                    console.log(count, '所有图片渲染完成')
                }
            }
        }
        function toPage(){
            location.href="./2.html"
        }
    </script>
</body>

</html>